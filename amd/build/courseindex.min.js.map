{"version":3,"file":"courseindex.min.js","sources":["../src/courseindex.js"],"sourcesContent":["\n// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript controller for controlling the sections.\n *\n * @module     local_courseindex/courseindex\n * @package    local_courseindex\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n// jshint unused: true, undef:true\ndefine(['jquery', 'core/log'], function($, log) {\n\n    var courseindex = {\n\n        init: function() {\n            $('#id-courseindex-search-submit').bind('click', this.search_form_submit);\n            $('#id-courseindex-textsearch-submit').bind('click', this.textsearch_form_submit);\n            $('#id-courseindex-special-submit').bind('click', this.special_form_submit);\n\n            log.debug(\"AMD local_courseindex module init.\");\n        },\n\n        search_form_submit: function() {\n            var statuschoice = document.forms['statusform'].lpstatus;\n            if (statuschoice) {\n                // might not be in page\n                var statusix = statuschoice.selectedIndex;\n                if (statusix) {\n                    document.forms['classifierform'].lpstatus.value = statuschoice.options[statusix].value;\n                }\n            }\n        },\n\n        textsearch_form_submit: function() {\n            var statuschoice = document.forms['textsearchform'].lpstatus;\n            if (statuschoice) {\n                // Might not be in page.\n                var statusix = statuschoice.selectedIndex;\n                if (statusix) {\n                    document.forms['textsearchform'].lpstatus.value = statuschoice.options[statusix].value;\n                }\n            }\n        },\n\n        special_form_submit: function(){\n            var statuschoice = document.forms['statusform'].lpstatus;\n            if (statuschoice){ // might not be in page\n                var statusix = statuschoice.selectedIndex;\n                if (statusix) {\n                    document.forms['specialform'].lpstatus.value = statuschoice.options[statusix].value;\n                }\n            }\n            // document.forms['specialform'].submit();\n        }\n\n    };\n\n    return courseindex;\n});"],"names":["define","$","log","init","bind","this","search_form_submit","textsearch_form_submit","special_form_submit","debug","statuschoice","document","forms","lpstatus","statusix","selectedIndex","value","options"],"mappings":";;;;;;;AAwBAA,uCAAO,CAAC,SAAU,aAAa,SAASC,EAAGC,WAErB,CAEdC,KAAM,WACFF,EAAE,iCAAiCG,KAAK,QAASC,KAAKC,oBACtDL,EAAE,qCAAqCG,KAAK,QAASC,KAAKE,wBAC1DN,EAAE,kCAAkCG,KAAK,QAASC,KAAKG,qBAEvDN,IAAIO,MAAM,uCAGdH,mBAAoB,eACZI,aAAeC,SAASC,MAAT,WAA6BC,YAC5CH,aAAc,KAEVI,SAAWJ,aAAaK,cACxBD,WACAH,SAASC,MAAT,eAAiCC,SAASG,MAAQN,aAAaO,QAAQH,UAAUE,SAK7FT,uBAAwB,eAChBG,aAAeC,SAASC,MAAT,eAAiCC,YAChDH,aAAc,KAEVI,SAAWJ,aAAaK,cACxBD,WACAH,SAASC,MAAT,eAAiCC,SAASG,MAAQN,aAAaO,QAAQH,UAAUE,SAK7FR,oBAAqB,eACbE,aAAeC,SAASC,MAAT,WAA6BC,YAC5CH,aAAa,KACTI,SAAWJ,aAAaK,cACxBD,WACAH,SAASC,MAAT,YAA8BC,SAASG,MAAQN,aAAaO,QAAQH,UAAUE"}